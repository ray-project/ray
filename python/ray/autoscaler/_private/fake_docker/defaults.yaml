# Example command to start a cluster with this config:
#
# RAY_FAKE_DOCKER=1 ray start --autoscaling-config=example.yaml --head --block
#
# Alternatively, you can programmatically create a fake autoscaling cluster
# using ray.cluster_utils.AutoscalingCluster.
cluster_name: fake_docker
max_workers: 8
provider:
    type: fake_docker
    project_name: fake_docker
    image: rayproject/ray:nightly
    shared_volume_dir: /tmp/fake_docker

auth:
    ssh_user: ubuntu

available_node_types:
    ray.head.default:
        # You must set this manually to your "head" node resources!! The head
        # node is launched via `ray start` and hence the autoscaler cannot
        # configure its resources. The resources specified for its node type
        # must line up with what Ray detects/is configured with on start.
        resources:
            CPU: 2   # <-- set this to num CPUs used/detected in `ray start`
            GPU: 0   # <-- set this to num GPUs used/detected in `ray start`
        node_config: {}
        max_workers: 0
head_node_type: ray.head.default
upscaling_speed: 1.0
idle_timeout_minutes: 0.1
#
# !!! Configurations below are not supported in fake cluster mode !!!
#

docker: {}
initialization_commands: []
setup_commands: []
head_setup_commands: []
worker_setup_commands: []
head_start_ray_commands: []
worker_start_ray_commands: []
file_mounts: {}
cluster_synced_files: []
file_mounts_sync_continuously: false
rsync_exclude: []
rsync_filter: []
