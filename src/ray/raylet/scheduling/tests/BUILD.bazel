load("//bazel:ray.bzl", "ray_cc_test")

ray_cc_test(
    name = "cluster_resource_scheduler_test",
    size = "small",
    srcs = [
        "cluster_resource_scheduler_test.cc",
    ],
    tags = ["team:core"],
    deps = [
        "//:ray_mock",
        "//src/ray/common:lease",
        "//src/ray/common:ray_config",
        "//src/ray/common:task_common",
        "//src/ray/common:test_utils",
        "//src/ray/gcs_rpc_client:gcs_client",
        "//src/ray/raylet/scheduling:cluster_resource_scheduler",
        "@com_google_googletest//:gtest_main",
    ],
)

ray_cc_test(
    name = "cluster_resource_scheduler_2_test",
    size = "small",
    srcs = [
        "cluster_resource_scheduler_2_test.cc",
    ],
    tags = ["team:core"],
    deps = [
        "//src/ray/raylet/scheduling:cluster_resource_scheduler",
        "//src/ray/raylet/scheduling:scheduling_context",
        "//src/ray/raylet/scheduling:scheduling_options",
        "@com_google_googletest//:gtest_main",
    ],
)

ray_cc_test(
    name = "local_resource_manager_test",
    size = "small",
    srcs = [
        "local_resource_manager_test.cc",
    ],
    tags = ["team:core"],
    deps = [
        "//src/ray/raylet/scheduling:local_resource_manager",
        "@com_google_googletest//:gtest_main",
    ],
)

ray_cc_test(
    name = "cluster_lease_manager_test",
    size = "small",
    srcs = [
        "cluster_lease_manager_test.cc",
    ],
    tags = ["team:core"],
    deps = [
        "//:ray_mock",
        "//src/ray/common:id",
        "//src/ray/common:lease",
        "//src/ray/common:task_common",
        "//src/ray/common:test_utils",
        "//src/ray/raylet:local_lease_manager",
        "//src/ray/raylet/scheduling:cluster_lease_manager",
        "//src/ray/raylet/scheduling:cluster_resource_scheduler",
        "//src/ray/raylet/tests:util",
        "@com_google_googletest//:gtest_main",
    ],
)

ray_cc_test(
    name = "cluster_resource_manager_test",
    size = "small",
    srcs = [
        "cluster_resource_manager_test.cc",
    ],
    tags = ["team:core"],
    deps = [
        "//src/ray/raylet/scheduling:cluster_resource_manager",
        "@com_google_googletest//:gtest_main",
    ],
)
