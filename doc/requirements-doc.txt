# Production requirements. This is what readthedocs.com picks up

# Python / ML libraries
accelerate>=0.17.0
click
colorama
colorful
# Newer versions of fairscale do not support Python 3.6 even though they still have wheels for it.
# Have to manually pin it: https://github.com/facebookresearch/fairscale/issues/962
fairscale; python_version >= '3.7'
fairscale<=0.4.0; python_version < '3.7'
filelock
flask
flatbuffers
fastapi
jsonschema
mock
numpy
scikit-image
pandas
pillow
pyarrow
pydantic < 1.10.0
pyyaml
scikit-optimize
redis
starlette
uvicorn==0.16.0
werkzeug
wandb
tensorflow; sys_platform != 'darwin' or platform_machine != 'arm64'
tensorflow-macos; sys_platform == 'darwin' and platform_machine == 'arm64'
tensorflow-datasets
torch
torchvision
transformers

# Train
mxnet==1.8.0.post0

# Ray libraries
git+https://github.com/ray-project/tune-sklearn@master#tune-sklearn
git+https://github.com/ray-project/xgboost_ray@master#egg=xgboost_ray
git+https://github.com/ray-project/lightgbm_ray@main#lightgbm_ray
git+https://github.com/ray-project/ray_lightning@main#ray_lightning

# Syntax highlighting
Pygments==2.13.0

# Sphinx
# TODO: https://github.com/executablebooks/sphinx-external-toc/issues/90
#     needs to be fixed to upgrade to sphinx >= 6.0.0
sphinx==5.3.0  # upgrade to 6.2.1 later, and ultimately 7.x
sphinx-click==3.0.2
sphinx-copybutton==0.4.0
sphinxemoji==0.2.0
sphinx-jsonschema==1.17.2
sphinx-version-warning==1.1.2
sphinx-book-theme==1.0.1
sphinx-external-toc==0.3.1
sphinx-sitemap==2.2.0
sphinxcontrib-redoc==1.6.0
sphinx-tabs==3.4.0
sphinx-remove-toctrees==0.0.3
autodoc_pydantic==1.6.1
sphinx_design==0.4.1

# MyST
myst-parser==0.18.0  # migrate to 1.0.0 once myst-nb is updated and allows it
myst-nb==0.17.2

# Jupyter conversion
jupytext==1.13.6

# Pin urllib to avoid downstream ssl incompatibility issues
urllib3 < 1.27
